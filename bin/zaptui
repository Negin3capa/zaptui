#!/usr/bin/env node

const { spawn } = require('child_process');
const path = require('path');

// Run the main application (index.js is in parent directory)
const appPath = path.join(__dirname, '..', 'index.js');
const projectRoot = path.join(__dirname, '..');

const child = spawn('node', [appPath], {
    stdio: 'inherit',
    cwd: projectRoot  // Use project root so config.json can be found
});

child.on('error', (err) => {
    console.error('Failed to start ZapTUI:', err);
    process.exit(1);
});

child.on('exit', (code) => {
    process.exit(code || 0);
});
